#These lines are uncommented and run one by one
pred_in <- fread("E:/NACP/var_csvs/pred_vars_20190514/gv_all_1surf.csv")
# pred_in <- fread("E:/NACP/var_csvs/pred_vars_20190514/gv_all_3upch.csv")
# pred_in <- fread("E:/NACP/var_csvs/pred_vars_20190514/gv_all_5loch.csv")
# pred_in <- fread("E:/NACP/var_csvs/pred_vars_20190514/gv_all_7pipt.csv")
# pred_in <- fread("E:/NACP/var_csvs/pred_vars_20190514/gv_all_9aqia.csv")
# pred_in <- fread("E:/NACP/var_csvs/pred_vars_20190514/gv_all_11moml.csv")
# pred_in <- fread("E:/NACP/var_csvs/pred_vars_20190514/gv_all_13matw.csv")
# pred_in <- fread("E:/NACP/var_csvs/pred_vars_20190514/gv_all_15mgty.csv")
# pred_in <- fread("E:/NACP/var_csvs/pred_vars_20190514/gv_all_17popt.csv")
# pred_in <- fread("E:/NACP/var_csvs/pred_vars_20190514/gv_all_19popx.csv")

# These 3 steps only are applied to the first file in the list of 10
# wd0 <- subset(pred_in, well_depth==0)
library(gbm)
library(dplyr)
library(data.table)


# pred_in$well_depth[pred_in$well_depth==0] <- 0.5
# wd0.1 <- subset(pred_in, well_depth==0.5)

pred_in <- select(pred_in, -V1)

# This step is customized for each file
pred_in <- select(pred_in, -aq1_extibdras)

pred_in$aquifer_designation <- as.factor(pred_in$aquifer_designation)
pred2 <- select(pred_in, -gridcode)
pred_out <- predict(model, pred2, n.trees = 1000) 
pred_out_gridcode <- cbind(pred_in$gridcode, pred_out)
df_pred_out <- as.data.frame(pred_out_gridcode)

# This step is customized for each file
df_pred_out <- rename(df_pred_out, gridcode=V1, predout19=pred_out)

#These lines are uncommented and run one by one
write.csv(df_pred_out, "predout/DO20190514_predout_1surf_allvars_bestfit.csv", row.names=FALSE)
# write.csv(df_pred_out, "predout/DO20190514_predout_3upch_allvars_bestfit.csv", row.names=FALSE)
# write.csv(df_pred_out, "predout/DO20190514_predout_5loch_allvars_bestfit.csv", row.names=FALSE)
# write.csv(df_pred_out, "predout/DO20190514_predout_7pipt_allvars_bestfit.csv", row.names=FALSE)
# write.csv(df_pred_out, "predout/DO20190514_predout_9aqia_allvars_bestfit.csv", row.names=FALSE)
# write.csv(df_pred_out, "predout/DO20190514_predout_11monml_allvars_bestfit.csv", row.names=FALSE)
# write.csv(df_pred_out, "predout/DO20190514_predout_13matw_allvars_bestfit.csv", row.names=FALSE)
# write.csv(df_pred_out, "predout/DO20190514_predout_15mgty_allvars_bestfit.csv", row.names=FALSE)
# write.csv(df_pred_out, "predout/DO20190514_predout_17potp_allvars_bestfit.csv", row.names=FALSE)
# write.csv(df_pred_out, "predout/DO20190514_predout_19potx_allvars_bestfit.csv", row.names=FALSE)

